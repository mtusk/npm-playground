# node_modules Experiment

Where does `require('my-pkg')` look for 'my-pkg'?
- is it based on the location of `package.json`?
- is it based on current working directory?
- do I need a `package.json` file?
  - NO
- can I have multiple `node_modules` folders
  - if so, which does it reference?
    - the nearest?
    - is that how npm works when it installs deps of deps: `/node_modules/pkg-a/node_modules/pkg-b`?


## Notes

- note how app has a `node_modules` folder but no `package.json` file
  - I simply created my own node_modules folder then copied and pasted `package-a` and `package-b` into it
    - and did the same for level-three's `node_modules`
  - experiment steps:
    - start in the `/app` directory
    - run `node ./level-one.js`
      - output shows that it imported from `/node_modules` üëç
    - run `node ./level-two/level-two.js`
      - output shows that it imported from `/node_modules` üëç
    - run `node ./level-two/level-three/level-three.js`
      - output shows that it imported from `/level-two/level-three/node_modules` ü´¢
        - because it was nearest?

## Conclusions

- I think this shows that if you have nested dependencies, they will prefer their own node_modules folder?
- which might indicate that you could have multiple copies of a dep in your app's hierarchy:
  ```
  /app/node_modules/common-dep                                        1Ô∏è‚É£
  /app/node_modules/pkg-a/node_modules/common-dep                     2Ô∏è‚É£
  /app/node_modules/pkg-a/node_modules/pkg-b/node_modules/common-dep  3Ô∏è‚É£
  ```
